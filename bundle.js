(()=>{"use strict";var t={274:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Investment=void 0,e.Investment=class{constructor(t,e,n,o,r,l,u,d,h){this.name=t,this.worth=e,this.worthText=n,this.ownedStocks=o,this.ownedStocksText=r,this.numberInput=l,this.buyInput=u,this.sellInput=d,this.total=h}Buy(t){return this.numberInput&&t>=this.worth*parseInt(this.numberInput.value)&&(t-=this.worth*parseInt(this.numberInput.value),this.ownedStocks+=parseInt(this.numberInput.value),this.numberInput.nodeValue),t}Sell(t){return this.numberInput&&this.ownedStocks>=parseInt(this.numberInput.value)&&(t+=this.worth*parseInt(this.numberInput.value),this.ownedStocks-=parseInt(this.numberInput.value)),t}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var l=e[o]={exports:{}};return t[o](l,l.exports,n),l.exports}(()=>{const t=n(274);let e,o,r,l,u,d,h,s,m,i,a,c,I=1e3;const w=["Netto","Legoland","Humlegaarden","Curbfood 2","Minecraft","Elon Musk","Carls Tandlæge","Amazon","Vand Inc.","Blockbuster","Minecraft 2","Sprite","Pepsi","Bitcoin","Dunder Mifflin","PH lamper","Bogense Havn","Rasmus Aktie Spil","MySpace","r/HackerNews"];function y(t){I=t.Buy(I),v()}function g(t){I=t.Sell(I),v()}function p(t){I=t,o&&(o.style.display="none"),r&&(r.style.display="initial"),v(),S()}e=document.getElementById("pengeDisplay"),o=document.getElementById("startScreen"),r=document.getElementById("mainScreen"),l=document.getElementById("easyButton"),u=document.getElementById("mediumButton"),d=document.getElementById("hardButton"),i=new t.Investment("Trackunit",100,document.getElementById("lowWorth"),0,document.getElementById("lowOwned"),document.getElementById("lowNum"),document.getElementById("lowBuy"),document.getElementById("lowSell"),document.getElementById("lowTotal")),a=new t.Investment("Microsoft",500,document.getElementById("MedWorth"),0,document.getElementById("MedOwned"),document.getElementById("MedNum"),document.getElementById("MedBuy"),document.getElementById("MedSell"),document.getElementById("MedTotal")),c=new t.Investment("Curbfood",2e3,document.getElementById("HighWorth"),0,document.getElementById("HighOwned"),document.getElementById("HighNum"),document.getElementById("HighBuy"),document.getElementById("HighSell"),document.getElementById("HighTotal")),h=document.getElementById("lowTitle"),s=document.getElementById("medTitle"),m=document.getElementById("highTitle"),l&&(l.onclick=()=>p(100)),u&&(u.onclick=()=>p(1e3)),d&&(d.onclick=()=>p(1e4)),i.buyInput&&(i.buyInput.onclick=()=>y(i)),i.sellInput&&(i.sellInput.onclick=()=>g(i)),i.numberInput&&(i.numberInput.onchange=()=>v()),a.buyInput&&(a.buyInput.onclick=()=>y(a)),a.sellInput&&(a.sellInput.onclick=()=>g(a)),a.numberInput&&(a.numberInput.onchange=()=>v()),c.buyInput&&(c.buyInput.onclick=()=>y(c)),c.sellInput&&(c.sellInput.onclick=()=>g(c)),c.numberInput&&(c.numberInput.onchange=()=>v());let k,b=1.05,B=1.1,T=1.2,E=[],x=[],M=[];function S(){if(E.push(i.worth),f(E,"lowChart"),Math.random()>=.7&&(b=b>1?.94:1.06),i.worth*=b,i.worth=Math.round(i.worth),x.push(a.worth),f(x,"medChart"),Math.random()>=.65&&(B=B>1?.6:1.4),a.worth*=B,a.worth=Math.round(a.worth),M.push(c.worth),f(M,"highChart"),Math.random()>=.4&&(T=T>1?.2:2),c.worth*=T,c.worth=Math.round(c.worth),i.worth<=30){let t=document.getElementById("low");(null==t?void 0:t.style)&&(t.style.backgroundColor="rgb(240, 55, 55)"),setTimeout((()=>{E=[],i.ownedStocks=0,i.worth=100*Math.random(),i.worth=Math.round(i.worth),h&&(h.innerText=w[Math.floor(Math.random()*w.length)]),(null==t?void 0:t.style)&&(t.style.backgroundColor="rgb(54, 54, 54)")}),1e3)}if(a.worth<=50){let t=document.getElementById("med");(null==t?void 0:t.style)&&(t.style.backgroundColor="rgb(240, 55, 55)"),setTimeout((()=>{x=[],a.ownedStocks=0,a.worth=1e3*Math.random(),a.worth=Math.round(a.worth),s&&(s.innerText=w[Math.floor(Math.random()*w.length)]),(null==t?void 0:t.style)&&(t.style.backgroundColor="rgb(54, 54, 54)")}),1e3)}if(c.worth<=50){let t=document.getElementById("high");(null==t?void 0:t.style)&&(t.style.backgroundColor="rgb(240, 55, 55)"),setTimeout((()=>{M=[],c.ownedStocks=0,c.worth=5e3*Math.random(),c.worth=Math.round(c.worth),m&&(m.innerText=w[Math.floor(Math.random()*w.length)]),(null==t?void 0:t.style)&&(t.style.backgroundColor="rgb(54, 54, 54)")}),1e3)}v(),setTimeout((()=>{S()}),1e3)}function v(){e&&(e.innerText="Du har "+I+" dkk"),i.ownedStocksText&&i.worthText&&i.total&&(i.worthText.innerText="Værd "+i.worth+" per styk",i.ownedStocksText.innerText="Ejer "+i.ownedStocks+" aktier",i.total.innerText="("+i.worth*parseInt(i.numberInput.value)+" dkk)"),a.ownedStocksText&&a.worthText&&a.total&&(a.worthText.innerText="Værd "+a.worth+" per styk",a.ownedStocksText.innerText="Ejer "+a.ownedStocks+" aktier",a.total.innerText="("+a.worth*parseInt(a.numberInput.value)+" dkk)"),c.ownedStocksText&&c.worthText&&c.total&&(c.worthText.innerText="Værd "+c.worth+" per styk",c.ownedStocksText.innerText="Ejer "+c.ownedStocks+" aktier",c.total.innerText="("+c.worth*parseInt(c.numberInput.value)+" dkk)")}function f(t,e){let n=[];t.forEach(((e,o)=>{n.push(t[o]-Math.min(...t))})),console.log("y: "+n);let o=[];n.forEach(((t,e)=>{o.push(e+1)})),k=document.getElementById(e);const r=k.getContext("2d");if(!r)return;r.clearRect(0,0,180,100);let l=180/Math.max(...o);l+=l/o.length;const u=100/Math.max(...n);r.beginPath(),o.forEach(((t,e)=>{r.lineTo(o[e]*l-l,100-n[e]*u)})),r.strokeStyle="white",r.lineWidth=1.5,r.stroke()}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90eXBlc2NyaXB0LW9uLWJyb3dzZXItc3RhcnRlci8uL3NyYy9JbnZlc3RtZW50LnRzIiwid2VicGFjazovL3R5cGVzY3JpcHQtb24tYnJvd3Nlci1zdGFydGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3R5cGVzY3JpcHQtb24tYnJvd3Nlci1zdGFydGVyLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwibmFtZSIsIndvcnRoIiwid29ydGhUZXh0Iiwib3duZWRTdG9ja3MiLCJvd25lZFN0b2Nrc1RleHQiLCJudW1iZXJJbnB1dCIsImJ1eUlucHV0Iiwic2VsbElucHV0IiwidG90YWwiLCJ0aGlzIiwiQnV5IiwibW9uZXkiLCJwYXJzZUludCIsInZhbHVlIiwibm9kZVZhbHVlIiwiU2VsbCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwicGVuZ2VEaXNwbGF5RWxlbWVudCIsInN0YXJ0U2NyZWVuRWxlbWVudCIsIm1haW5TY3JlZW5FbGVtZW50IiwiZWFzeUJ1dHRvbiIsIm1lZGl1bUJ1dHRvbiIsImhhcmRCdXR0b24iLCJsb3dUaXRsZSIsIm1lZFRpdGxlIiwiaGlnaFRpdGxlIiwiVHJhY2t1bml0IiwiTWljcm9zb2Z0IiwiQ3VyYmZvb2QiLCJuYW1lcyIsImludmVzdG1lbnQiLCJVcGRhdGUiLCJTdGFydCIsIm1vbmV5QW1vdW50Iiwic3R5bGUiLCJkaXNwbGF5IiwiR2FtZUxvb3AiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiSW52ZXN0bWVudCIsIm9uY2xpY2siLCJvbmNoYW5nZSIsIm15Q2hhcnQiLCJUcmFja3VuaXRDaGFuZ2UiLCJNaWNyb3NvZnRDaGFuZ2UiLCJDdXJiZm9vZENoYW5nZSIsIlRyYWNrdW5pdEFycmF5IiwiTWljcm9zb2Z0QXJyYXkiLCJDdXJiZm9vZEFycmF5IiwicHVzaCIsIkRyYXdHcmFwaCIsIk1hdGgiLCJyYW5kb20iLCJyb3VuZCIsImxvdyIsImJhY2tncm91bmRDb2xvciIsInNldFRpbWVvdXQiLCJpbm5lclRleHQiLCJmbG9vciIsImxlbmd0aCIsIm1lZCIsImhpZ2giLCJ5QXJyYXkiLCJjaGFydElkIiwibV95QXJyYXkiLCJmb3JFYWNoIiwiXyIsImkiLCJtaW4iLCJjb25zb2xlIiwibG9nIiwieEFycmF5IiwiY3R4IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsInhMaW5lTGVuZ3RoIiwibWF4IiwieUxpbmVMZW5ndGgiLCJiZWdpblBhdGgiLCJsaW5lVG8iLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSJdLCJtYXBwaW5ncyI6IjJHQUFBLG1CQVdJQSxZQUFZQyxFQUFjQyxFQUFlQyxFQUErQkMsRUFBcUJDLEVBQXFDQyxFQUFpQ0MsRUFBOEJDLEVBQStCQyxHQUM1TkMsS0FBS1QsS0FBT0EsRUFDWlMsS0FBS1IsTUFBUUEsRUFDYlEsS0FBS1AsVUFBWUEsRUFDakJPLEtBQUtOLFlBQWNBLEVBQ25CTSxLQUFLTCxnQkFBa0JBLEVBQ3ZCSyxLQUFLSixZQUFjQSxFQUNuQkksS0FBS0gsU0FBV0EsRUFDaEJHLEtBQUtGLFVBQVlBLEVBQ2pCRSxLQUFLRCxNQUFRQSxFQUdqQkUsSUFBSUMsR0FNQSxPQUxHRixLQUFLSixhQUFlTSxHQUFTRixLQUFLUixNQUFRVyxTQUE0QkgsS0FBS0osWUFBYVEsU0FDdkZGLEdBQVNGLEtBQUtSLE1BQVFXLFNBQTRCSCxLQUFLSixZQUFhUSxPQUNwRUosS0FBS04sYUFBZVMsU0FBNEJILEtBQUtKLFlBQWFRLE9BQ2xFSixLQUFLSixZQUFZUyxXQUVkSCxFQUdYSSxLQUFLSixHQUtELE9BSkdGLEtBQUtKLGFBQWVJLEtBQUtOLGFBQWVTLFNBQTRCSCxLQUFLSixZQUFhUSxTQUNyRkYsR0FBU0YsS0FBS1IsTUFBUVcsU0FB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Q25CSSxFQUFPdEIsS0FBS2tCLEVBQUksTUFHbEJ6QixFQUFVTCxTQUFTQyxlQUFleUIsR0FDbEMsTUFBTVMsRUFBMEI5QixFQUFTK0IsV0FBVyxNQUNwRCxJQUFLRCxFQUNILE9BR0ZBLEVBQUlFLFVBQVUsRUFBRyxFQUFHLElBQUssS0FFekIsSUFBSUMsRUFBYyxJQUFNeEIsS0FBS3lCLE9BQU9MLEdBQ3BDSSxHQUFlQSxFQUFjSixFQUFPWixPQUNwQyxNQUFNa0IsRUFBYyxJQUFNMUIsS0FBS3lCLE9BQU9aLEdBQ3RDUSxFQUFJTSxZQUVKUCxFQUFPTixTQUFRLENBQUNDLEVBQUdDLEtBQ2pCSyxFQUFJTyxPQUNGUixFQUFPSixHQUFLUSxFQUFjQSxFQUMxQixJQUFNWCxFQUFTRyxHQUFLVSxNQUd4QkwsRUFBSVEsWUFBYyxRQUNsQlIsRUFBSVMsVUFBWSxJQUNoQlQsRUFBSVUsVyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgSW52ZXN0bWVudHtcclxubmFtZTogc3RyaW5nXHJcbndvcnRoOiBudW1iZXJcclxud29ydGhUZXh0OiBIVE1MRWxlbWVudCB8IG51bGxcclxub3duZWRTdG9ja3M6IG51bWJlclxyXG5vd25lZFN0b2Nrc1RleHQ6IEhUTUxFbGVtZW50IHwgbnVsbFxyXG5udW1iZXJJbnB1dDogSFRNTEVsZW1lbnQgfCBudWxsXHJcbmJ1eUlucHV0OiBIVE1MRWxlbWVudCB8IG51bGxcclxuc2VsbElucHV0OiBIVE1MRWxlbWVudCB8IG51bGxcclxudG90YWw6IEhUTUxFbGVtZW50IHwgbnVsbFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgd29ydGg6IG51bWJlciwgd29ydGhUZXh0OiBIVE1MRWxlbWVudCB8IG51bGwsIG93bmVkU3RvY2tzOiBudW1iZXIsIG93bmVkU3RvY2tzVGV4dDogSFRNTEVsZW1lbnQgfCBudWxsLCBudW1iZXJJbnB1dDogSFRNTEVsZW1lbnQgfCBudWxsLCBidXlJbnB1dDogSFRNTEVsZW1lbnQgfCBudWxsLCBzZWxsSW5wdXQ6IEhUTUxFbGVtZW50IHwgbnVsbCwgdG90YWw6IEhUTUxFbGVtZW50IHwgbnVsbCl7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLndvcnRoID0gd29ydGg7XHJcbiAgICAgICAgdGhpcy53b3J0aFRleHQgPSB3b3J0aFRleHQ7XHJcbiAgICAgICAgdGhpcy5vd25lZFN0b2NrcyA9IG93bmVkU3RvY2tzO1xyXG4gICAgICAgIHRoaXMub3duZWRTdG9ja3NUZXh0ID0gb3duZWRTdG9ja3NUZXh0O1xyXG4gICAgICAgIHRoaXMubnVtYmVySW5wdXQgPSBudW1iZXJJbnB1dDtcclxuICAgICAgICB0aGlzLmJ1eUlucHV0ID0gYnV5SW5wdXQ7XHJcbiAgICAgICAgdGhpcy5zZWxsSW5wdXQgPSBzZWxsSW5wdXQ7XHJcbiAgICAgICAgdGhpcy50b3RhbCA9IHRvdGFsO1xyXG4gICAgfVxyXG5cclxuICAgIEJ1eShtb25leTpudW1iZXIpIHtcclxuICAgICAgICBpZih0aGlzLm51bWJlcklucHV0ICYmIG1vbmV5ID49IHRoaXMud29ydGggKiBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+dGhpcy5udW1iZXJJbnB1dCkudmFsdWUpKXtcclxuICAgICAgICAgICAgbW9uZXkgLT0gdGhpcy53b3J0aCAqIHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD50aGlzLm51bWJlcklucHV0KS52YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZWRTdG9ja3MgKz0gcGFyc2VJbnQoKDxIVE1MSW5wdXRFbGVtZW50PnRoaXMubnVtYmVySW5wdXQpLnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5udW1iZXJJbnB1dC5ub2RlVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb25leTtcclxuICAgIH1cclxuXHJcbiAgICBTZWxsKG1vbmV5Om51bWJlcil7XHJcbiAgICAgICAgaWYodGhpcy5udW1iZXJJbnB1dCAmJiB0aGlzLm93bmVkU3RvY2tzID49IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD50aGlzLm51bWJlcklucHV0KS52YWx1ZSkpe1xyXG4gICAgICAgICAgICBtb25leSArPSB0aGlzLndvcnRoICogcGFyc2VJbnQoKDxIVE1MSW5wdXRFbGVtZW50PnRoaXMubnVtYmVySW5wdXQpLnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lZFN0b2NrcyAtPSBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+dGhpcy5udW1iZXJJbnB1dCkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbW9uZXk7XHJcbiAgICB9XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiaW1wb3J0IHsgSW52ZXN0bWVudCB9IGZyb20gXCIuL0ludmVzdG1lbnRcIjtcclxuXHJcbmxldCBtb25leSA9IDEwMDA7XHJcbmxldCBwZW5nZURpc3BsYXlFbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGw7XHJcbmxldCBzdGFydFNjcmVlbkVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbDtcclxubGV0IG1haW5TY3JlZW5FbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGw7XHJcblxyXG5sZXQgZWFzeUJ1dHRvbjogSFRNTEVsZW1lbnQgfCBudWxsO1xyXG5sZXQgbWVkaXVtQnV0dG9uOiBIVE1MRWxlbWVudCB8IG51bGw7XHJcbmxldCBoYXJkQnV0dG9uOiBIVE1MRWxlbWVudCB8IG51bGw7XHJcblxyXG5sZXQgbG93VGl0bGU6IEhUTUxFbGVtZW50IHwgbnVsbDtcclxubGV0IG1lZFRpdGxlOiBIVE1MRWxlbWVudCB8IG51bGw7XHJcbmxldCBoaWdoVGl0bGU6IEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHJcbmxldCBUcmFja3VuaXQ6IEludmVzdG1lbnQ7XHJcbmxldCBNaWNyb3NvZnQ6IEludmVzdG1lbnQ7XHJcbmxldCBDdXJiZm9vZDogSW52ZXN0bWVudDtcclxuXHJcbmNvbnN0IG5hbWVzID0gW1xyXG4gIFwiTmV0dG9cIixcclxuICBcIkxlZ29sYW5kXCIsXHJcbiAgXCJIdW1sZWdhYXJkZW5cIixcclxuICBcIkN1cmJmb29kIDJcIixcclxuICBcIk1pbmVjcmFmdFwiLFxyXG4gIFwiRWxvbiBNdXNrXCIsXHJcbiAgXCJDYXJscyBUYW5kbMOmZ2VcIixcclxuICBcIkFtYXpvblwiLFxyXG4gIFwiVmFuZCBJbmMuXCIsXHJcbiAgXCJCbG9ja2J1c3RlclwiLFxyXG4gIFwiTWluZWNyYWZ0IDJcIixcclxuICBcIlNwcml0ZVwiLFxyXG4gIFwiUGVwc2lcIixcclxuICBcIkJpdGNvaW5cIixcclxuICBcIkR1bmRlciBNaWZmbGluXCIsXHJcbiAgXCJQSCBsYW1wZXJcIixcclxuICBcIkJvZ2Vuc2UgSGF2blwiLFxyXG4gIFwiUmFzbXVzIEFrdGllIFNwaWxcIixcclxuICBcIk15U3BhY2VcIixcclxuICBcInIvSGFja2VyTmV3c1wiXHJcbl07XHJcblxyXG5wZW5nZURpc3BsYXlFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZW5nZURpc3BsYXlcIik7XHJcbnN0YXJ0U2NyZWVuRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhcnRTY3JlZW5cIik7XHJcbm1haW5TY3JlZW5FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluU2NyZWVuXCIpO1xyXG5cclxuZWFzeUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWFzeUJ1dHRvblwiKTtcclxubWVkaXVtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZWRpdW1CdXR0b25cIik7XHJcbmhhcmRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhhcmRCdXR0b25cIik7XHJcblxyXG5UcmFja3VuaXQgPSBuZXcgSW52ZXN0bWVudChcclxuICBcIlRyYWNrdW5pdFwiLFxyXG4gIDEwMCxcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvd1dvcnRoXCIpLFxyXG4gIDAsXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb3dPd25lZFwiKSxcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvd051bVwiKSxcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvd0J1eVwiKSxcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvd1NlbGxcIiksXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb3dUb3RhbFwiKVxyXG4pO1xyXG5NaWNyb3NvZnQgPSBuZXcgSW52ZXN0bWVudChcclxuICBcIk1pY3Jvc29mdFwiLFxyXG4gIDUwMCxcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIk1lZFdvcnRoXCIpLFxyXG4gIDAsXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJNZWRPd25lZFwiKSxcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIk1lZE51bVwiKSxcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIk1lZEJ1eVwiKSxcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIk1lZFNlbGxcIiksXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJNZWRUb3RhbFwiKVxyXG4pO1xyXG5DdXJiZm9vZCA9IG5ldyBJbnZlc3RtZW50KFxyXG4gIFwiQ3VyYmZvb2RcIixcclxuICAyMDAwLFxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSGlnaFdvcnRoXCIpLFxyXG4gIDAsXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJIaWdoT3duZWRcIiksXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJIaWdoTnVtXCIpLFxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSGlnaEJ1eVwiKSxcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkhpZ2hTZWxsXCIpLFxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiSGlnaFRvdGFsXCIpXHJcbik7XHJcblxyXG5sb3dUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG93VGl0bGVcIik7XHJcbm1lZFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZWRUaXRsZVwiKTtcclxuaGlnaFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWdoVGl0bGVcIik7XHJcblxyXG5pZiAoZWFzeUJ1dHRvbikge1xyXG4gIGVhc3lCdXR0b24ub25jbGljayA9ICgpID0+IFN0YXJ0KDEwMCk7XHJcbn1cclxuaWYgKG1lZGl1bUJ1dHRvbikge1xyXG4gIG1lZGl1bUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gU3RhcnQoMTAwMCk7XHJcbn1cclxuaWYgKGhhcmRCdXR0b24pIHtcclxuICBoYXJkQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBTdGFydCgxMDAwMCk7XHJcbn1cclxuXHJcbmlmIChUcmFja3VuaXQuYnV5SW5wdXQpIHtcclxuICBUcmFja3VuaXQuYnV5SW5wdXQub25jbGljayA9ICgpID0+IEJ1eShUcmFja3VuaXQpO1xyXG59XHJcbmlmIChUcmFja3VuaXQuc2VsbElucHV0KSB7XHJcbiAgVHJhY2t1bml0LnNlbGxJbnB1dC5vbmNsaWNrID0gKCkgPT4gU2VsbChUcmFja3VuaXQpO1xyXG59XHJcbmlmIChUcmFja3VuaXQubnVtYmVySW5wdXQpIHtcclxuICBUcmFja3VuaXQubnVtYmVySW5wdXQub25jaGFuZ2UgPSAoKSA9PiBVcGRhdGUoKTtcclxufVxyXG5cclxuaWYgKE1pY3Jvc29mdC5idXlJbnB1dCkge1xyXG4gIE1pY3Jvc29mdC5idXlJbnB1dC5vbmNsaWNrID0gKCkgPT4gQnV5KE1pY3Jvc29mdCk7XHJcbn1cclxuaWYgKE1pY3Jvc29mdC5zZWxsSW5wdXQpIHtcclxuICBNaWNyb3NvZnQuc2VsbElucHV0Lm9uY2xpY2sgPSAoKSA9PiBTZWxsKE1pY3Jvc29mdCk7XHJcbn1cclxuaWYgKE1pY3Jvc29mdC5udW1iZXJJbnB1dCkge1xyXG4gIE1pY3Jvc29mdC5udW1iZXJJbnB1dC5vbmNoYW5nZSA9ICgpID0+IFVwZGF0ZSgpO1xyXG59XHJcblxyXG5pZiAoQ3VyYmZvb2QuYnV5SW5wdXQpIHtcclxuICBDdXJiZm9vZC5idXlJbnB1dC5vbmNsaWNrID0gKCkgPT4gQnV5KEN1cmJmb29kKTtcclxufVxyXG5pZiAoQ3VyYmZvb2Quc2VsbElucHV0KSB7XHJcbiAgQ3VyYmZvb2Quc2VsbElucHV0Lm9uY2xpY2sgPSAoKSA9PiBTZWxsKEN1cmJmb29kKTtcclxufVxyXG5pZiAoQ3VyYmZvb2QubnVtYmVySW5wdXQpIHtcclxuICBDdXJiZm9vZC5udW1iZXJJbnB1dC5vbmNoYW5nZSA9ICgpID0+IFVwZGF0ZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBCdXkoaW52ZXN0bWVudDogSW52ZXN0bWVudCkge1xyXG4gIG1vbmV5ID0gaW52ZXN0bWVudC5CdXkobW9uZXkpO1xyXG4gIFVwZGF0ZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBTZWxsKGludmVzdG1lbnQ6IEludmVzdG1lbnQpIHtcclxuICBtb25leSA9IGludmVzdG1lbnQuU2VsbChtb25leSk7XHJcbiAgVXBkYXRlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFN0YXJ0KG1vbmV5QW1vdW50OiBudW1iZXIpIHtcclxuICBtb25leSA9IG1vbmV5QW1vdW50O1xyXG5cclxuICBpZiAoc3RhcnRTY3JlZW5FbGVtZW50KSB7XHJcbiAgICBzdGFydFNjcmVlbkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH1cclxuICBpZiAobWFpblNjcmVlbkVsZW1lbnQpIHtcclxuICAgIG1haW5TY3JlZW5FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImluaXRpYWxcIjtcclxuICB9XHJcblxyXG4gIFVwZGF0ZSgpO1xyXG4gIEdhbWVMb29wKCk7XHJcbn1cclxuXHJcbmxldCBUcmFja3VuaXRDaGFuZ2UgPSAxLjA1O1xyXG5sZXQgTWljcm9zb2Z0Q2hhbmdlID0gMS4xO1xyXG5sZXQgQ3VyYmZvb2RDaGFuZ2UgPSAxLjI7XHJcblxyXG5sZXQgVHJhY2t1bml0QXJyYXk6IG51bWJlcltdID0gW107XHJcbmxldCBNaWNyb3NvZnRBcnJheTogbnVtYmVyW10gPSBbXTtcclxubGV0IEN1cmJmb29kQXJyYXk6IG51bWJlcltdID0gW107XHJcblxyXG5mdW5jdGlvbiBHYW1lTG9vcCgpIHtcclxuICBUcmFja3VuaXRBcnJheS5wdXNoKFRyYWNrdW5pdC53b3J0aCk7XHJcbiAgRHJhd0dyYXBoKFRyYWNrdW5pdEFycmF5LCBcImxvd0NoYXJ0XCIpO1xyXG4gIGlmIChNYXRoLnJhbmRvbSgpID49IDAuNykge1xyXG4gICAgaWYgKFRyYWNrdW5pdENoYW5nZSA+IDEpIHtcclxuICAgICAgVHJhY2t1bml0Q2hhbmdlID0gMC45NDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFRyYWNrdW5pdENoYW5nZSA9IDEuMDY7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFRyYWNrdW5pdC53b3J0aCAqPSBUcmFja3VuaXRDaGFuZ2U7XHJcbiAgVHJhY2t1bml0LndvcnRoID0gTWF0aC5yb3VuZChUcmFja3VuaXQud29ydGgpO1xyXG5cclxuICBNaWNyb3NvZnRBcnJheS5wdXNoKE1pY3Jvc29mdC53b3J0aCk7XHJcbiAgRHJhd0dyYXBoKE1pY3Jvc29mdEFycmF5LCBcIm1lZENoYXJ0XCIpO1xyXG4gIGlmIChNYXRoLnJhbmRvbSgpID49IDAuNjUpIHtcclxuICAgIGlmIChNaWNyb3NvZnRDaGFuZ2UgPiAxKSB7XHJcbiAgICAgIE1pY3Jvc29mdENoYW5nZSA9IDAuNjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIE1pY3Jvc29mdENoYW5nZSA9IDEuNDtcclxuICAgIH1cclxuICB9XHJcbiAgTWljcm9zb2Z0LndvcnRoICo9IE1pY3Jvc29mdENoYW5nZTtcclxuICBNaWNyb3NvZnQud29ydGggPSBNYXRoLnJvdW5kKE1pY3Jvc29mdC53b3J0aCk7XHJcblxyXG4gIEN1cmJmb29kQXJyYXkucHVzaChDdXJiZm9vZC53b3J0aCk7XHJcbiAgRHJhd0dyYXBoKEN1cmJmb29kQXJyYXksIFwiaGlnaENoYXJ0XCIpO1xyXG4gIGlmIChNYXRoLnJhbmRvbSgpID49IDAuNCkge1xyXG4gICAgaWYgKEN1cmJmb29kQ2hhbmdlID4gMSkge1xyXG4gICAgICBDdXJiZm9vZENoYW5nZSA9IDAuMjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIEN1cmJmb29kQ2hhbmdlID0gMjtcclxuICAgIH1cclxuICB9XHJcbiAgQ3VyYmZvb2Qud29ydGggKj0gQ3VyYmZvb2RDaGFuZ2U7XHJcbiAgQ3VyYmZvb2Qud29ydGggPSBNYXRoLnJvdW5kKEN1cmJmb29kLndvcnRoKTtcclxuXHJcbiAgaWYgKFRyYWNrdW5pdC53b3J0aCA8PSAzMCkge1xyXG4gICAgbGV0IGxvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG93XCIpO1xyXG4gICAgaWYgKGxvdz8uc3R5bGUpIHtcclxuICAgICAgbG93LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDI0MCwgNTUsIDU1KVwiO1xyXG4gICAgfVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIFRyYWNrdW5pdEFycmF5ID0gW107XHJcbiAgICAgIFRyYWNrdW5pdC5vd25lZFN0b2NrcyA9IDA7XHJcbiAgICAgIFRyYWNrdW5pdC53b3J0aCA9IDEwMCAqIE1hdGgucmFuZG9tKCk7XHJcbiAgICAgIFRyYWNrdW5pdC53b3J0aCA9IE1hdGgucm91bmQoVHJhY2t1bml0LndvcnRoKTtcclxuICAgICAgaWYgKGxvd1RpdGxlKSB7XHJcbiAgICAgICAgbG93VGl0bGUuaW5uZXJUZXh0ID0gbmFtZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbmFtZXMubGVuZ3RoKV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGxvdz8uc3R5bGUpIHtcclxuICAgICAgICBsb3cuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNTQsIDU0LCA1NClcIjtcclxuICAgICAgfVxyXG4gICAgfSwgMTAwMCk7XHJcbiAgfVxyXG5cclxuICBpZiAoTWljcm9zb2Z0LndvcnRoIDw9IDUwKSB7XHJcbiAgICBsZXQgbWVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZWRcIik7XHJcbiAgICBpZiAobWVkPy5zdHlsZSkge1xyXG4gICAgICBtZWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoMjQwLCA1NSwgNTUpXCI7XHJcbiAgICB9XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgTWljcm9zb2Z0QXJyYXkgPSBbXTtcclxuICAgICAgTWljcm9zb2Z0Lm93bmVkU3RvY2tzID0gMDtcclxuICAgICAgTWljcm9zb2Z0LndvcnRoID0gMTAwMCAqIE1hdGgucmFuZG9tKCk7XHJcbiAgICAgIE1pY3Jvc29mdC53b3J0aCA9IE1hdGgucm91bmQoTWljcm9zb2Z0LndvcnRoKTtcclxuICAgICAgaWYgKG1lZFRpdGxlKSB7XHJcbiAgICAgICAgbWVkVGl0bGUuaW5uZXJUZXh0ID0gbmFtZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbmFtZXMubGVuZ3RoKV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG1lZD8uc3R5bGUpIHtcclxuICAgICAgICBtZWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNTQsIDU0LCA1NClcIjtcclxuICAgICAgfVxyXG4gICAgfSwgMTAwMCk7XHJcbiAgfVxyXG5cclxuICBpZiAoQ3VyYmZvb2Qud29ydGggPD0gNTApIHtcclxuICAgIGxldCBoaWdoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoaWdoXCIpO1xyXG4gICAgaWYgKGhpZ2g/LnN0eWxlKSB7XHJcbiAgICAgIGhpZ2guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoMjQwLCA1NSwgNTUpXCI7XHJcbiAgICB9XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgQ3VyYmZvb2RBcnJheSA9IFtdO1xyXG4gICAgICBDdXJiZm9vZC5vd25lZFN0b2NrcyA9IDA7XHJcbiAgICAgIEN1cmJmb29kLndvcnRoID0gNTAwMCAqIE1hdGgucmFuZG9tKCk7XHJcbiAgICAgIEN1cmJmb29kLndvcnRoID0gTWF0aC5yb3VuZChDdXJiZm9vZC53b3J0aCk7XHJcbiAgICAgIGlmIChoaWdoVGl0bGUpIHtcclxuICAgICAgICBoaWdoVGl0bGUuaW5uZXJUZXh0ID0gbmFtZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbmFtZXMubGVuZ3RoKV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGhpZ2g/LnN0eWxlKSB7XHJcbiAgICAgICAgaGlnaC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYig1NCwgNTQsIDU0KVwiO1xyXG4gICAgICB9XHJcbiAgICB9LCAxMDAwKTtcclxuICB9XHJcblxyXG4gIFVwZGF0ZSgpO1xyXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgR2FtZUxvb3AoKTtcclxuICB9LCAxMDAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gVXBkYXRlKCkge1xyXG4gIGlmIChwZW5nZURpc3BsYXlFbGVtZW50KSB7XHJcbiAgICBwZW5nZURpc3BsYXlFbGVtZW50LmlubmVyVGV4dCA9IFwiRHUgaGFyIFwiICsgbW9uZXkgKyBcIiBka2tcIjtcclxuICB9XHJcblxyXG4gIGlmIChUcmFja3VuaXQub3duZWRTdG9ja3NUZXh0ICYmIFRyYWNrdW5pdC53b3J0aFRleHQgJiYgVHJhY2t1bml0LnRvdGFsKSB7XHJcbiAgICBUcmFja3VuaXQud29ydGhUZXh0LmlubmVyVGV4dCA9IFwiVsOmcmQgXCIgKyBUcmFja3VuaXQud29ydGggKyBcIiBwZXIgc3R5a1wiO1xyXG4gICAgVHJhY2t1bml0Lm93bmVkU3RvY2tzVGV4dC5pbm5lclRleHQgPVxyXG4gICAgICBcIkVqZXIgXCIgKyBUcmFja3VuaXQub3duZWRTdG9ja3MgKyBcIiBha3RpZXJcIjtcclxuICAgIFRyYWNrdW5pdC50b3RhbC5pbm5lclRleHQgPVxyXG4gICAgICBcIihcIiArXHJcbiAgICAgIFRyYWNrdW5pdC53b3J0aCAqXHJcbiAgICAgICAgcGFyc2VJbnQoKDxIVE1MSW5wdXRFbGVtZW50PlRyYWNrdW5pdC5udW1iZXJJbnB1dCkudmFsdWUpICtcclxuICAgICAgXCIgZGtrKVwiO1xyXG4gIH1cclxuXHJcbiAgaWYgKE1pY3Jvc29mdC5vd25lZFN0b2Nrc1RleHQgJiYgTWljcm9zb2Z0LndvcnRoVGV4dCAmJiBNaWNyb3NvZnQudG90YWwpIHtcclxuICAgIE1pY3Jvc29mdC53b3J0aFRleHQuaW5uZXJUZXh0ID0gXCJWw6ZyZCBcIiArIE1pY3Jvc29mdC53b3J0aCArIFwiIHBlciBzdHlrXCI7XHJcbiAgICBNaWNyb3NvZnQub3duZWRTdG9ja3NUZXh0LmlubmVyVGV4dCA9XHJcbiAgICAgIFwiRWplciBcIiArIE1pY3Jvc29mdC5vd25lZFN0b2NrcyArIFwiIGFrdGllclwiO1xyXG4gICAgTWljcm9zb2Z0LnRvdGFsLmlubmVyVGV4dCA9XHJcbiAgICAgIFwiKFwiICtcclxuICAgICAgTWljcm9zb2Z0LndvcnRoICpcclxuICAgICAgICBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+TWljcm9zb2Z0Lm51bWJlcklucHV0KS52YWx1ZSkgK1xyXG4gICAgICBcIiBka2spXCI7XHJcbiAgfVxyXG5cclxuICBpZiAoQ3VyYmZvb2Qub3duZWRTdG9ja3NUZXh0ICYmIEN1cmJmb29kLndvcnRoVGV4dCAmJiBDdXJiZm9vZC50b3RhbCkge1xyXG4gICAgQ3VyYmZvb2Qud29ydGhUZXh0LmlubmVyVGV4dCA9IFwiVsOmcmQgXCIgKyBDdXJiZm9vZC53b3J0aCArIFwiIHBlciBzdHlrXCI7XHJcbiAgICBDdXJiZm9vZC5vd25lZFN0b2Nrc1RleHQuaW5uZXJUZXh0ID1cclxuICAgICAgXCJFamVyIFwiICsgQ3VyYmZvb2Qub3duZWRTdG9ja3MgKyBcIiBha3RpZXJcIjtcclxuICAgIEN1cmJmb29kLnRvdGFsLmlubmVyVGV4dCA9XHJcbiAgICAgIFwiKFwiICtcclxuICAgICAgQ3VyYmZvb2Qud29ydGggKlxyXG4gICAgICAgIHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD5DdXJiZm9vZC5udW1iZXJJbnB1dCkudmFsdWUpICtcclxuICAgICAgXCIgZGtrKVwiO1xyXG4gIH1cclxufVxyXG5cclxubGV0IG15Q2hhcnQ6IEhUTUxFbGVtZW50IHwgbnVsbDtcclxuXHJcbmZ1bmN0aW9uIERyYXdHcmFwaCh5QXJyYXk6IG51bWJlcltdLCBjaGFydElkOiBzdHJpbmcpIHtcclxuICBsZXQgbV95QXJyYXk6IG51bWJlcltdID0gW107XHJcblxyXG4gIHlBcnJheS5mb3JFYWNoKChfLCBpKSA9PiB7XHJcbiAgICBtX3lBcnJheS5wdXNoKHlBcnJheVtpXSAtIE1hdGgubWluKC4uLnlBcnJheSkpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zb2xlLmxvZyhcInk6IFwiICsgbV95QXJyYXkpO1xyXG5cclxuICBsZXQgeEFycmF5OiBudW1iZXJbXSA9IFtdO1xyXG5cclxuICBtX3lBcnJheS5mb3JFYWNoKChfLCBpKSA9PiB7XHJcbiAgICB4QXJyYXkucHVzaChpICsgMSk7XHJcbiAgfSk7XHJcblxyXG4gIG15Q2hhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjaGFydElkKTtcclxuICBjb25zdCBjdHggPSAoPEhUTUxDYW52YXNFbGVtZW50Pm15Q2hhcnQpLmdldENvbnRleHQoXCIyZFwiKTtcclxuICBpZiAoIWN0eCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCAxODAsIDEwMCk7XHJcblxyXG4gIGxldCB4TGluZUxlbmd0aCA9IDE4MCAvIE1hdGgubWF4KC4uLnhBcnJheSk7XHJcbiAgeExpbmVMZW5ndGggKz0geExpbmVMZW5ndGggLyB4QXJyYXkubGVuZ3RoO1xyXG4gIGNvbnN0IHlMaW5lTGVuZ3RoID0gMTAwIC8gTWF0aC5tYXgoLi4ubV95QXJyYXkpO1xyXG4gIGN0eC5iZWdpblBhdGgoKTtcclxuXHJcbiAgeEFycmF5LmZvckVhY2goKF8sIGkpID0+IHtcclxuICAgIGN0eC5saW5lVG8oXHJcbiAgICAgIHhBcnJheVtpXSAqIHhMaW5lTGVuZ3RoIC0geExpbmVMZW5ndGgsXHJcbiAgICAgIDEwMCAtIG1feUFycmF5W2ldICogeUxpbmVMZW5ndGhcclxuICAgICk7XHJcbiAgfSk7XHJcbiAgY3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gIGN0eC5saW5lV2lkdGggPSAxLjU7XHJcbiAgY3R4LnN0cm9rZSgpO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=